<template>
  <div id="shopCar">

    <BtmShopBarItem>
      <template v-slot:shopBar-left>
        <div class="box-line">
          <svg t="1606119966942" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
               p-id="2558" width="18" height="18">
            <path
              d="M512.002047 0c-270.491551 0-489.759463 214.583217-489.759463 479.282854 0 242.418168 183.877891 442.786639 422.581458 474.831472-2.180666 13.678534-5.729491 36.765345-7.677866 53.597709-0.041956 0.366344-0.085958 0.735757-0.125867 1.095961-0.021489 0.302899-0.046049 0.605797-0.046049 0.914836 0 7.105838 5.761214 12.867052 12.867052 12.867052 0.945535 0 1.863441-0.10847 2.750647-0.301875 1.266853-0.5137 2.602268-1.056052 3.998057-1.62501 39.971363-16.288988 131.142829-54.638411 196.875926-82.375126 201.51969-59.376319 348.292498-242.418168 348.292498-459.005019C1001.757416 214.583217 782.489504 0 512.002047 0zM620.520599 898.194736 489.12399 955.877483c-0.121773 0.094144-0.26299 0.155543-0.421602 0.185218l-0.429789 0.188288-0.01228-0.01228c-0.3776-0.075725-0.656963-0.360204-0.74599-0.731664l0-45.962821c-228.774427-15.772218-409.363412-202.363917-409.363412-430.261371 0-238.228753 190.406584-431.360402 433.847036-431.360402 243.444545 0 440.780959 193.131649 440.780959 431.360402C952.778912 681.953763 813.014728 851.931063 620.520599 898.194736zM691.870624 614.07991c-7.356548 0-13.659091 4.495384-16.322757 10.886955-22.895453 35.644825-86.280062 67.978231-163.069983 67.978231-76.595492 0-140.495848-32.493042-164.241668-69.866231l-0.112564 0.049119c-3.02694-5.395894-8.794293-9.04705-15.421224-9.04705-9.764388 0-17.679661 7.915273-17.679661 17.679661 0 5.318122 2.358721 10.075473 6.074346 13.316284 30.04427 43.677778 103.010095 77.864392 189.889815 77.864392 87.375 0 163.345252-34.633798 193.309704-78.610382 3.241834-3.204995 5.253654-7.65126 5.253654-12.570293C709.550285 621.995183 701.635011 614.07991 691.870624 614.07991z"
              p-id="2559"></path>
          </svg>
          <p>客服</p>
        </div>
      </template>
    </BtmShopBarItem>

    <BtmShopBarItem>
      <template v-slot:shopBar-right>
        <div class="box-line">
          <svg t="1606120294896" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
               width="18" height="18">
            <path
              d="M829.220317 124.424824l-7.074116-10.656711L211.680609 113.768113l-7.141654 9.141194C48.983109 321.498248 70.507332 442.416202 97.154225 496.860185c26.740014 54.537104 80.878029 89.831958 137.977491 89.831958l5.146207 0c72.043826-2.867304 119.953999-38.642089 145.190777-64.548108 22.793122 25.90602 65.699328 60.541865 132.855844 60.541865 70.02382 0 113.703645-37.70167 135.579885-63.877843 30.546713 24.907273 90.183975 65.721841 152.687518 65.721841 40.980343 0 76.085886-16.799618 104.681154-49.907667C1017.364371 411.082566 836.949348 136.066979 829.220317 124.424824zM874.641809 503.603773c-19.22383 22.49841-41.49916 33.236985-68.14503 33.236985-60.246129 0-122.821303-54.56064-136.7792-67.51979L669.717579 305.754682c0.023536-0.458441 0.258896-0.799202 0.258896-1.245364 0-13.252839-10.714016-23.967878-23.920806-23.967878-13.227256 0-23.919782 10.715039-23.919782 23.967878l-0.258896 0 0 177.851641c-13.063527 17.811668-46.172599 52.634778-103.552447 52.634778-64.784492 0-98.525967-44.292785-107.666138-58.367339l0-172.120103c0-13.252839-10.715039-23.967878-23.898293-23.967878-13.228279 0-23.943318 10.715039-23.943318 23.967878l0 171.250292c-11.725042 15.249309-52.070936 60.389392-124.465756 63.37233l-3.219321 0 0-0.047072c-31.933293 0-73.688279-19.585057-95.000678-63.232137-21.358447-43.540655-36.843116-141.948943 94.953605-314.397526l561.097208 0C845.996398 240.173035 940.480306 427.225221 874.641809 503.603773zM831.288418 613.83227c-13.277398 0-24.086581 10.761088-24.13263 24.037463l0 0.045025c0 0.048095 0 0.048095 0 0.095167 0 0 0 0.023536 0 0.059352l0 173.505659c0 26.693965-21.641903 48.312332-48.263214 48.312332L552.089555 859.887268c-0.022513 0-0.022513 0-0.046049 0L264.081049 859.887268c-26.623357 0-48.26526-21.618367-48.26526-48.312332l0-173.634596c-0.023536-13.323447-10.80816-24.108071-24.109094-24.108071-13.299911 0-24.084535 10.784624-24.131607 24.108071l0 178.452321c0 50.730405 41.026392 91.804892 91.664699 91.804892l504.492002 0c50.637284 0 91.662653-41.074487 91.662653-91.804892L855.394443 637.869732C855.325881 624.592334 844.562746 613.83227 831.288418 613.83227z"
              p-id="3344"></path>
          </svg>
          <p>店铺</p>
        </div>
      </template>
    </BtmShopBarItem>

    <BtmShopBarItem>
      <template v-slot:shopBar-right>
        <div class="box-line">
          <svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
               width="18" height="18">
            <path
              d="M707.584 93.184c-77.312 0-148.992 38.912-196.608 102.912-47.104-64-119.296-102.912-196.608-102.912-139.264 0-252.416 123.904-252.416 275.968 0 90.624 40.448 154.624 73.216 205.824C229.888 723.968 468.48 908.8 478.72 916.48c9.728 7.68 20.992 11.264 32.256 11.264s22.528-3.584 32.256-11.264c10.24-7.68 248.32-193.024 343.552-341.504 32.768-51.2 73.216-115.2 73.216-205.824 0-152.064-113.152-275.968-252.416-275.968zM821.76 573.44c-87.552 122.88-272.896 263.168-282.112 269.824-8.704 6.656-18.944 10.24-28.672 10.24-10.24 0-19.968-3.072-28.672-10.24-9.216-6.656-190.976-148.48-282.112-274.944-29.184-46.08-75.776-103.424-75.776-184.32 0-136.192 75.776-231.936 200.192-231.936 69.12 0 144.384 66.048 186.368 123.392 42.496-57.344 117.248-123.392 186.368-123.392 124.928 0 205.824 95.744 205.824 231.936 0 80.896-51.712 143.872-81.408 189.44z"
              fill=""></path>
          </svg>
          <p>收藏</p>
        </div>
      </template>
    </BtmShopBarItem>

    <BtmShopBarItem @click="subDetailList" class="SubShopCar">
      <template v-slot:shopBar-right>
        <p class="text">加入购物车</p>
      </template>
    </BtmShopBarItem>

    <BtmShopBarItem>
      <template v-slot:shopBar-right>
        <p class="text">购买</p>
      </template>
    </BtmShopBarItem>

  </div>

</template>

<script>

  import BtmShopBarItem from '../../common/shopBar/BtmShopBar-item'
  import {getDetailMessage} from "../../../network/detail";

  export default {
    name: "BtmShopBar",
    components: {
      BtmShopBarItem
    },
    data() {
      return {
        iid: null,
        m: null,
        index: 0,
        cartDate: {},
      }
    },
    created() {
      this.iid = this.$route.params.iid
      this.getDetailMessage(this.iid)
      // this.subDetailList()
    },
    methods: {
      subDetailList() {
        // messageImage = this.$store.state.SubShopDate
        this.$store.commit('addShopCart', this.cartDate)
      },
      getDetailMessage(iid) {
        getDetailMessage(iid).then(res => {

          this.cartDate.title = res.result.itemInfo.title
          this.cartDate.img = res.result.itemInfo.topImages[4]
          // this.cartDate.num = res.result
          this.cartDate.iid = iid
          console.log(this.cartDate)

        })
      },
    }
  }
</script>

<style scoped>

  #shopCar {
    text-align: center;
    position: fixed;
    display: flex;
    bottom: 0;
    background-color: white;
    width: 100vw;
    height: 49px;
    justify-content: space-around;
    border-top: 1px solid #e0e0e0;
  }

  .box-line {
    margin-top: 4px;
  }

  .text {
    line-height: 49px;
  }

  #shopCar img {
    width: 5vw;
  }

  .SubShopCar {
    background-color: #eee;
  }
</style>
